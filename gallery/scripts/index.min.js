import{showPage}from"../../scripts/src/loadPage.min.js";import{galleryImageData}from"./imageData.min.js";import{showZoomCard}from"/scripts/src/cards.min.js";import{addHoverEvent}from"/scripts/src/hoverEvents.min.js";import{$,$$}from"/scripts/src/main.min.js";import{typesetMath}from"/scripts/src/math.min.js";import{redirect}from"/scripts/src/navigation.min.js";export default function(){const l=$("#high-res-viewer-card h1"),i=$("#description-text"),o=$("#featured-text"),s=$("#applet-link"),m=$("#full-res-link");let n="";$$(".gallery-image-1-1 img, .gallery-image-2-2 img, .gallery-image-3-3 img").forEach(element=>{element.addEventListener("click",e=>{{var{id:e,fromElement:t}={id:e.target.getAttribute("data-image-id"),fromElement:element};n=e,l.innerHTML=galleryImageData[e].title,galleryImageData[e].parameters?(i.innerHTML=galleryImageData[e].parameters,i.parentElement.style.display="block"):i.parentElement.style.display="none",galleryImageData[e].featured?(o.innerHTML=galleryImageData[e].featured,o.parentElement.style.display="block",setTimeout(()=>{var e=o.querySelectorAll("a");for(const t of Array.from(e))addHoverEvent({element:t})},10)):o.parentElement.style.display="none",s.setAttribute("href",galleryImageData[e].appletLink),m.setAttribute("href",`https://drive.google.com/uc?id=${galleryImageData[e].driveId}&export=download`);const a=document.createElement("img");var r=$("#high-res-viewer-card img");r.parentNode.insertBefore(a,r),r.remove(),typesetMath(),a.onload=()=>{setTimeout(()=>showZoomCard({id:"high-res-viewer",fromElement:t,toElement:a}),10)},a.src=`/gallery/high-res/${e}.webp`,typesetMath()}})}),s.addEventListener("click",()=>{redirect({url:galleryImageData[n].appletLink})}),m.addEventListener("click",()=>{redirect({url:`https://drive.google.com/uc?id=${galleryImageData[n].driveId}&export=download`,inNewTab:!0})}),showPage()}