<header><div id="logo"><a href="/home/" tabindex="-1"><img src="/graphics/general-icons/logo.webp" alt="Logo" tabindex="1"></img></a></div><div style="height: 20px"></div><h1 class="heading-text">Section 8: The Chain Rule</h1></header><main><section><div class="text-buttons nav-buttons"><div class="focus-on-child" tabindex="1"><button class="text-button linked-text-button nav-button previous-nav-button" type="button" tabindex="-1">Previous</button></div><div class="focus-on-child" tabindex="1"><button class="text-button linked-text-button nav-button home-nav-button" type="button" tabindex="-1">Home</button></div><div class="focus-on-child" tabindex="1"><button class="text-button linked-text-button nav-button next-nav-button" type="button" tabindex="-1">Next</button></div></div><p class="body-text">It&#x2019;s worth prefacing this section with a small warning: this is a section students often find particularly difficult. When I first took this course, the chain rule took me a while to digest. Actually applying the rule isn&#x2019;t usually too hard, but recognizing when and how to use it can be tricky.</p><p class="body-text">Through the sum, difference, product, and quotient rules, we know how to differentiate functions made by combining other differentiable functions via addition, subtraction, multiplication, and division. Unlike numbers, where those are the only four basic methods of combination, functions have one more: composition. The chain rule will let us differentiate compositions, but we&#x2019;ll have to identify them in order to use it, so let&#x2019;s take some time to work on that.</p><div class="notes-ex notes-environment"><div class="notes-ex-title notes-title">Example: compositions</div><p class="body-text">The following functions can be written in the form <span class="tex-holder inline-math" data-source-tex="f(g(x))">$f(g(x))$.</span> Write down <span class="tex-holder inline-math" data-source-tex="f(x)">$f(x)$</span> and <span class="tex-holder inline-math" data-source-tex="g(x)">$g(x)$</span> for each.</p><p class="body-text numbered-list-item">1. <span class="tex-holder inline-math" data-source-tex="\cos(x^5)">$\displaystyle \cos(x^5)$.</span></p><p class="body-text numbered-list-item">2. <span class="tex-holder inline-math" data-source-tex="\ln^3(x)">$\displaystyle \ln^3(x)$.</span></p><p class="body-text numbered-list-item">3. <span class="tex-holder inline-math" data-source-tex="(x + 1)\sin(x + 1)">$\displaystyle (x + 1)\sin(x + 1)$.</span></p><p class="body-text">Let&#x2019;s take these one-by-one. For each, we can identify <span class="tex-holder inline-math" data-source-tex="g(x)">$g(x)$</span> by the operation that&#x2019;s closest to <span class="tex-holder inline-math" data-source-tex="x">$x$.</span> Then <span class="tex-holder inline-math" data-source-tex="f(x)">$f(x)$</span> comes from the operation that&#x2019;s happening to <span class="tex-holder inline-math" data-source-tex="g(x)">$g(x)$.</span> This can be tricky to figure out, but it gets easier with practice.</p><p class="body-text numbered-list-item">1. Here, the fifth power is the closest thing to <span class="tex-holder inline-math" data-source-tex="x">$x$,</span> so <span class="tex-holder inline-math" data-source-tex="g(x) = x^5">$g(x) = x^5$.</span> What&#x2019;s happening to <span class="tex-holder inline-math" data-source-tex="x^5">$x^5$</span> is a cosine, so <span class="tex-holder inline-math" data-source-tex="f(x) = \cos(x)">$f(x) = \cos(x)$.</span> It might be easier to see what <span class="tex-holder inline-math" data-source-tex="f">$f$</span> should be by starting with <span class="tex-holder inline-math" data-source-tex="\cos(x^5)">$\cos(x^5)$</span> and replacing <span class="tex-holder inline-math" data-source-tex="x^5">$x^5$</span> with <span class="tex-holder inline-math" data-source-tex="x">$x$.</span></p><p class="body-text numbered-list-item">2. Remember from the last section that this is the same thing as <span class="tex-holder inline-math" data-source-tex="(\ln(x))^3">$(\ln(x))^3$.</span> Then <span class="tex-holder inline-math" data-source-tex="g(x) = \ln(x)">$g(x) = \ln(x)$</span> and <span class="tex-holder inline-math" data-source-tex="f(x) = x^3">$f(x) = x^3$.</span></p><p class="body-text numbered-list-item">3. This is a little harder. The thing happening right next to <span class="tex-holder inline-math" data-source-tex="x">$x$</span> is <span class="tex-holder inline-math" data-source-tex="x + 1">$x + 1$,</span> so <span class="tex-holder inline-math" data-source-tex="g(x) = x + 1">$g(x) = x + 1$.</span> Crunching <span class="tex-holder inline-math" data-source-tex="x + 1">$x + 1$</span> down to <span class="tex-holder inline-math" data-source-tex="x">$x$,</span> we get <span class="tex-holder inline-math" data-source-tex="f(x) = x\sin(x)">$f(x) = x\sin(x)$.</span></p></div><p class="body-text">The chain rule will tell us how to differentiate compositions, but we&#x2019;ll need to identify each separate part in this way in order to use it.</p><div class="notes-thm notes-environment"><div class="notes-thm-title notes-title">Theorem: the Chain Rule</div><p class="body-text">Let <span class="tex-holder inline-math" data-source-tex="f">$f$</span> and <span class="tex-holder inline-math" data-source-tex="g">$g$</span> be differentiable functions. Then</p><p class="body-text" style="text-align: center"><span class="tex-holder" style="padding: 8px" data-source-tex="$$[NEWLINE][TAB]\frac{d}{dx}[f(g(x))] = f'(g(x))g'(x).[NEWLINE]$$">$$\begin{align*}\frac{d}{dx}[f(g(x))] = f'(g(x))g'(x).\end{align*}$$</span></p></div><p class="body-text">Okay, let&#x2019;s walk through that one. To differentiate a composition, first identify the inner and outer functions. Then differentiate each, plug undifferentiated <span class="tex-holder inline-math" data-source-tex="g">$g$</span> into <span class="tex-holder inline-math" data-source-tex="f'">$f'$,</span> and multiply the two together.</p><div class="notes-ex notes-environment"><div class="notes-ex-title notes-title">Example: compositions</div><p class="body-text">Find the derivative of each of the following functions.</p><p class="body-text numbered-list-item">1. <span class="tex-holder inline-math" data-source-tex="\cos(x^5)">$\displaystyle \cos(x^5)$.</span></p><p class="body-text numbered-list-item">2. <span class="tex-holder inline-math" data-source-tex="\ln^3(x)">$\displaystyle \ln^3(x)$.</span></p><p class="body-text numbered-list-item">3. <span class="tex-holder inline-math" data-source-tex="(x + 1)\sin(x + 1)">$\displaystyle (x + 1)\sin(x + 1)$.</span></p><p class="body-text">Once again, we&#x2019;&#x2019;ll take these one at a time.</p><p class="body-text numbered-list-item">1. Here, <span class="tex-holder inline-math" data-source-tex="f(x) = \cos(x)">$f(x) = \cos(x)$</span> and <span class="tex-holder inline-math" data-source-tex="g(x) = x^5">$g(x) = x^5$.</span> We have <span class="tex-holder inline-math" data-source-tex="f'(x) = -\sin(x)">$f'(x) = -\sin(x)$</span> and <span class="tex-holder inline-math" data-source-tex="g'(x) = 5x^4">$g'(x) = 5x^4$,</span> so <span class="tex-holder inline-math" data-source-tex="f'(g(x)) = -\sin(x^5)">$f'(g(x)) = -\sin(x^5)$.</span> Therefore, the total derivative is</p><p class="body-text" style="text-align: center"><span class="tex-holder" style="padding: 8px" data-source-tex="$$[NEWLINE][TAB]-\sin(x^5) \cdot 5x^4.[NEWLINE]$$">$$\begin{align*}-\sin(x^5) \cdot 5x^4.\end{align*}$$</span></p><p class="body-text numbered-list-item">2. This time, <span class="tex-holder inline-math" data-source-tex="f(x) = x^3">$f(x) = x^3$</span> and <span class="tex-holder inline-math" data-source-tex="g(x) = \ln(x)">$g(x) = \ln(x)$.</span> Then <span class="tex-holder inline-math" data-source-tex="f'(x) = 3x^2">$f'(x) = 3x^2$</span> and <span class="tex-holder inline-math" data-source-tex="g'(x) = \frac{1}{x}">$g'(x) = \frac{1}{x}$,</span> so</p><p class="body-text" style="text-align: center"><span class="tex-holder" style="padding: 8px" data-source-tex="$$[NEWLINE][TAB]f'(g(x))g'(x) = 3\ln^2(x) \cdot \frac{1}{2}.[NEWLINE]$$">$$\begin{align*}f'(g(x))g'(x) = 3\ln^2(x) \cdot \frac{1}{2}.\end{align*}$$</span></p><p class="body-text numbered-list-item">3. We have <span class="tex-holder inline-math" data-source-tex="f(x) = x\sin(x)">$f(x) = x\sin(x)$</span> and <span class="tex-holder inline-math" data-source-tex="g(x) = x + 1">$g(x) = x + 1$.</span> By the product rule, <span class="tex-holder inline-math" data-source-tex="f'(x) = \sin(x) - x\cos(x)">$f'(x) = \sin(x) - x\cos(x)$,</span> and <span class="tex-holder inline-math" data-source-tex="g'(x) = 1">$g'(x) = 1$.</span> Therefore, we have</p><p class="body-text" style="text-align: center"><span class="tex-holder" style="padding: 8px" data-source-tex="$$[NEWLINE][TAB]\frac{d}{dx}[(x + 1)\sin(x + 1)] = \sin(x+1) - (x+1)\cos(x+1).[NEWLINE]$$">$$\begin{align*}\frac{d}{dx}[(x + 1)\sin(x + 1)] = \sin(x+1) - (x+1)\cos(x+1).\end{align*}$$</span></p></div><div class="notes-exc notes-environment"><div class="notes-exc-title notes-title">Exercise: compositions</div><p class="body-text">Find the derivative of each of the following functions.</p><p class="body-text numbered-list-item">1. <span class="tex-holder inline-math" data-source-tex="e^{\frac{1}{x}}">$\displaystyle e^{\frac{1}{x}}$.</span></p><p class="body-text numbered-list-item">2. <span class="tex-holder inline-math" data-source-tex="\frac{t^2}{\ln(t + 2)}">$\displaystyle \frac{t^2}{\ln(t + 2)}$.</span></p><p class="body-text numbered-list-item">3. <span class="tex-holder inline-math" data-source-tex="\csc(e^y)">$\displaystyle \csc(e^y)$.</span></p></div><p class="body-text">Just like we can use the chain rule with the product and quotient rules, we can also use it with... the chain rule. This boils down to compositions of more than two functions, like <span class="tex-holder inline-math" data-source-tex="\sin(\cos(\tan(x)))">$\sin(\cos(\tan(x)))$.</span> In general, it&#x2019;s easiest to peel off functions from the outside in. Let&#x2019;s see how this works.</p><div class="notes-ex notes-environment"><div class="notes-ex-title notes-title">Example: a composition of three functions</div><p class="body-text">Find the derivative of <span class="tex-holder inline-math" data-source-tex="\sin(\cos(\tan(x)))">$\displaystyle \sin(\cos(\tan(x)))$.</span></p><p class="body-text">Okay, so what does the chain rule say? We take the outer function, differentiate it and plug in the inner function, then multiply that by the derivative of the inner function. Let&#x2019;s run that through here. The outermost function is <span class="tex-holder inline-math" data-source-tex="\sin(x)">$\sin(x)$,</span> and its derivative is <span class="tex-holder inline-math" data-source-tex="\cos(x)">$\cos(x)$.</span> So we have</p><p class="body-text" style="text-align: center"><span class="tex-holder" style="padding: 8px" data-source-tex="$$[NEWLINE][TAB]\frac{d}{dx}[\sin(\cos(\tan(x)))] = \cos(\cos(\tan(x))) \frac{d}{dx}[\cos(\tan(x))].[NEWLINE]$$">$$\begin{align*}\frac{d}{dx}[\sin(\cos(\tan(x)))] = \cos(\cos(\tan(x))) \frac{d}{dx}[\cos(\tan(x))].\end{align*}$$</span></p><p class="body-text">Now we need to do the same thing to find that second derivative. The outer function is <span class="tex-holder inline-math" data-source-tex="\cos(x)">$\cos(x)$,</span> and its derivative is <span class="tex-holder inline-math" data-source-tex="-\sin(x)">$-\sin(x)$,</span> so we get</p><p class="body-text" style="text-align: center"><span class="tex-holder" style="padding: 8px" data-source-tex="$$[NEWLINE][TAB]\frac{d}{dx}[\sin(\cos(\tan(x)))] = \cos(\cos(\tan(x))) (-\sin(\tan(x)) \frac{d}{dx}[\tan(x)].[NEWLINE]$$">$$\begin{align*}\frac{d}{dx}[\sin(\cos(\tan(x)))] = \cos(\cos(\tan(x))) (-\sin(\tan(x)) \frac{d}{dx}[\tan(x)].\end{align*}$$</span></p><p class="body-text">Finally, we can handle <span class="tex-holder inline-math" data-source-tex="\tan(x)">$\tan(x)$</span> on its own.</p><p class="body-text" style="text-align: center"><span class="tex-holder" style="padding: 8px" data-source-tex="$$[NEWLINE][TAB]\frac{d}{dx}[\sin(\cos(\tan(x)))] = \cos(\cos(\tan(x))) (-\sin(\tan(x)) \sec^2(x).[NEWLINE]$$">$$\begin{align*}\frac{d}{dx}[\sin(\cos(\tan(x)))] = \cos(\cos(\tan(x))) (-\sin(\tan(x)) \sec^2(x).\end{align*}$$</span></p></div><div class="notes-exc notes-environment"><div class="notes-exc-title notes-title">Exercise: a composition of four functions</div><p class="body-text">Find the derivative of <span class="tex-holder inline-math" data-source-tex="\sec^3\left(e^{x^2}\right)">$\displaystyle \sec^3\left(e^{x^2}\right)$.</span></p></div><p class="body-text">Let&#x2019;s mention another way the chain rule is often stated. The derivative <span class="tex-holder inline-math" data-source-tex="\frac{d}{dx}[y]">$\frac{d}{dx}[y]$</span> is often written as <span class="tex-holder inline-math" data-source-tex="\frac{dy}{dx}">$\frac{dy}{dx}$.</span> Although they both mean derivative, <span class="tex-holder inline-math" data-source-tex="\frac{d}{dx}">$\frac{d}{dx}$</span> is a verb and <span class="tex-holder inline-math" data-source-tex="\frac{dy}{dx}">$\frac{dy}{dx}$</span> is a noun.</p><p class="body-text">The advantage of writing things in this way is that the chain rule becomes quite simple to write down. I&#x2019;m not partial to this notation for reasons that will shortly become clear, but it is undeniably slick.</p><p class="body-text">Let <span class="tex-holder inline-math" data-source-tex="y = f(g(x))">$y = f(g(x))$</span> and define a new variable <span class="tex-holder inline-math" data-source-tex="u = g(x)">$u = g(x)$.</span> Then <span class="tex-holder inline-math" data-source-tex="y = f(u)">$y = f(u)$,</span> so</p><p class="body-text" style="text-align: center"><span class="tex-holder" style="padding: 8px" data-source-tex="$$[NEWLINE][TAB]\frac{dy}{du} = f'(u) = f'(g(x)).[NEWLINE]$$">$$\begin{align*}\frac{dy}{du} = f'(u) = f'(g(x)).\end{align*}$$</span></p><p class="body-text">Similarly, <span class="tex-holder inline-math" data-source-tex="\frac{du}{dx} = g'(x)">$\frac{du}{dx} = g'(x)$.</span> Finally,</p><p class="body-text" style="text-align: center"><span class="tex-holder" style="padding: 8px" data-source-tex="$$[NEWLINE][TAB]\frac{dy}{dx} = \frac{d}{dx}[f(g(x))].[NEWLINE]$$">$$\begin{align*}\frac{dy}{dx} = \frac{d}{dx}[f(g(x))].\end{align*}$$</span></p><p class="body-text">In total, the chain rule says</p><p class="body-text" style="text-align: center"><span class="tex-holder" style="padding: 8px" data-source-tex="$$[NEWLINE][TAB]\frac{dy}{dx} = \frac{dy}{du} \cdot \frac{du}{dx}.[NEWLINE]$$">$$\begin{align*}\frac{dy}{dx} = \frac{dy}{du} \cdot \frac{du}{dx}.\end{align*}$$</span></p><p class="body-text">We get a somewhat bizarre-looking equation that seems to imply that we can cancel the <span class="tex-holder inline-math" data-source-tex="du">$du$.</span> While this isn&#x2019;t completely inaccurate, it&#x2019;s best not to get too used to thinking this way from the start &mdash; it makes it easier to make mistakes.</p><div class="text-buttons nav-buttons"><div class="focus-on-child" tabindex="1"><button class="text-button linked-text-button nav-button previous-nav-button" type="button" tabindex="-1">Previous</button></div><div class="focus-on-child" tabindex="1"><button class="text-button linked-text-button nav-button home-nav-button" type="button" tabindex="-1">Home</button></div><div class="focus-on-child" tabindex="1"><button class="text-button linked-text-button nav-button next-nav-button" type="button" tabindex="-1">Next</button></div></div></section></main>