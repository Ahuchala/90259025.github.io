var defaultInstanceSettings={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},defaultTweenSettings={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},validTransforms=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],cache={CSS:{},springs:{}};function minMax(val,min,max){return Math.min(Math.max(val,min),max)}function stringContains(str,text){return-1<str.indexOf(text)}function applyArguments(func,args){return func.apply(null,args)}var is={arr:function(a){return Array.isArray(a)},obj:function(a){return stringContains(Object.prototype.toString.call(a),"Object")},pth:function(a){return is.obj(a)&&a.hasOwnProperty("totalLength")},svg:function(a){return a instanceof SVGElement},inp:function(a){return a instanceof HTMLInputElement},dom:function(a){return a.nodeType||is.svg(a)},str:function(a){return"string"==typeof a},fnc:function(a){return"function"==typeof a},und:function(a){return void 0===a},nil:function(a){return is.und(a)||null===a},hex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},rgb:function(a){return/^rgb/.test(a)},hsl:function(a){return/^hsl/.test(a)},col:function(a){return is.hex(a)||is.rgb(a)||is.hsl(a)},key:function(a){return!defaultInstanceSettings.hasOwnProperty(a)&&!defaultTweenSettings.hasOwnProperty(a)&&"targets"!==a&&"keyframes"!==a}};function parseEasingParameters(string){var e=/\(([^)]+)\)/.exec(string);return e?e[1].split(",").map(function(p){return parseFloat(p)}):[]}function spring(string,duration){var e=parseEasingParameters(string),n=minMax(is.und(e[0])?1:e[0],.1,100),a=minMax(is.und(e[1])?100:e[1],.1,100),r=minMax(is.und(e[2])?10:e[2],.1,100),e=minMax(is.und(e[3])?0:e[3],.1,100),i=Math.sqrt(a/n),s=r/(2*Math.sqrt(a*n)),o=s<1?i*Math.sqrt(1-s*s):0,u=s<1?(s*i-e)/o:-e+i;function l(t){var e=duration?duration*t/1e3:t,e=s<1?Math.exp(-e*s*i)*(+Math.cos(o*e)+u*Math.sin(o*e)):(1+u*e)*Math.exp(-e*i);return 0===t||1===t?t:1-e}return duration?l:function(){var e=cache.springs[string];if(e)return e;for(var t=0,n=0;;)if(1===l(t+=1/6)){if(16<=++n)break}else n=0;return e=t*(1/6)*1e3,cache.springs[string]=e}}function steps(steps){return void 0===steps&&(steps=10),function(t){return Math.ceil(minMax(t,1e-6,1)*steps)*(1/steps)}}var bezier=function(){function e(aA1,aA2){return 1-3*aA2+3*aA1}function t(aA1,aA2){return 3*aA2-6*aA1}function i(aT,aA1,aA2){return((e(aA1,aA2)*aT+t(aA1,aA2))*aT+3*aA1)*aT}function s(aT,aA1,aA2){return 3*e(aA1,aA2)*aT*aT+2*t(aA1,aA2)*aT+3*aA1}return function(mX1,mY1,mX2,mY2){if(0<=mX1&&mX1<=1&&0<=mX2&&mX2<=1){var r=new Float32Array(11);if(mX1!==mY1||mX2!==mY2)for(var e=0;e<11;++e)r[e]=i(.1*e,mX1,mX2);return function(x){return mX1===mY1&&mX2===mY2||0===x||1===x?x:i(t(x),mY1,mY2)}}function t(aX){for(var e=0,t=1;10!==t&&r[t]<=aX;++t)e+=.1;var n=e+.1*((aX-r[--t])/(r[t+1]-r[t])),a=s(n,mX1,mX2);return.001<=a?function(aX,aGuessT,mX1,mX2){for(var e=0;e<4;++e){var t=s(aGuessT,mX1,mX2);if(0===t)return aGuessT;aGuessT-=(i(aGuessT,mX1,mX2)-aX)/t}return aGuessT}(aX,n,mX1,mX2):0===a?n:function(aX,aA,aB,mX1,mX2){for(var e,t,n=0;0<(e=i(t=aA+(aB-aA)/2,mX1,mX2)-aX)?aB=t:aA=t,1e-7<Math.abs(e)&&++n<10;);return t}(aX,e,e+.1,mX1,mX2)}}}(),penner=function(){var n={linear:function(){return function(t){return t}}},r={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}},Elastic:function(amplitude,period){void 0===period&&(period=.5);var e=minMax(amplitude=void 0===amplitude?1:amplitude,1,10),n=minMax(period,.1,2);return function(t){return 0===t||1===t?t:-e*Math.pow(2,10*(t-1))*Math.sin((t-1-n/(2*Math.PI)*Math.asin(1/e))*(2*Math.PI)/n)}}};return["Quad","Cubic","Quart","Quint","Expo"].forEach(function(name,i){r[name]=function(){return function(t){return Math.pow(t,i+2)}}}),Object.keys(r).forEach(function(name){var e=r[name];n["easeIn"+name]=e,n["easeOut"+name]=function(a,b){return function(t){return 1-e(a,b)(1-t)}},n["easeInOut"+name]=function(a,b){return function(t){return t<.5?e(a,b)(2*t)/2:1-e(a,b)(-2*t+2)/2}},n["easeOutIn"+name]=function(a,b){return function(t){return t<.5?(1-e(a,b)(1-2*t))/2:(e(a,b)(2*t-1)+1)/2}}}),n}();function parseEasings(easing,duration){if(is.fnc(easing))return easing;var e=easing.split("(")[0],t=penner[e],n=parseEasingParameters(easing);switch(e){case"spring":return spring(easing,duration);case"cubicBezier":return applyArguments(bezier,n);case"steps":return applyArguments(steps,n);default:return applyArguments(t,n)}}function selectString(str){try{return document.querySelectorAll(str)}catch(e){}}function filterArray(arr,callback){for(var e,t=arr.length,n=2<=arguments.length?callback:void 0,a=[],r=0;r<t;r++)r in arr&&(e=arr[r],callback.call(n,e,r,arr))&&a.push(e);return a}function flattenArray(arr){return arr.reduce(function(a,b){return a.concat(is.arr(b)?flattenArray(b):b)},[])}function toArray(o){return is.arr(o)?o:(o=is.str(o)?selectString(o)||o:o)instanceof NodeList||o instanceof HTMLCollection?[].slice.call(o):[o]}function arrayContains(arr,val){return arr.some(function(a){return a===val})}function cloneObject(o){var e,t={};for(e in o)t[e]=o[e];return t}function replaceObjectProps(o1,o2){var e,t=cloneObject(o1);for(e in o1)t[e]=(o2.hasOwnProperty(e)?o2:o1)[e];return t}function mergeObjects(o1,o2){var e,t=cloneObject(o1);for(e in o2)t[e]=(is.und(o1[e])?o2:o1)[e];return t}function rgbToRgba(rgbValue){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(rgbValue);return e?"rgba("+e[1]+",1)":rgbValue}function hexToRgba(hexValue){var e=hexValue.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(m,r,g,b){return r+r+g+g+b+b}),e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+parseInt(e[1],16)+","+parseInt(e[2],16)+","+parseInt(e[3],16)+",1)"}function hslToRgba(hslValue){var e,t,n,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(hslValue)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(hslValue),r=parseInt(a[1],10)/360,i=parseInt(a[2],10)/100,s=parseInt(a[3],10)/100,a=a[4]||1;function o(p,q,t){return t<0&&(t+=1),1<t&&--t,t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}return 0==i?e=t=n=s:(e=o(i=2*s-(s=s<.5?s*(1+i):s+i-s*i),s,r+1/3),t=o(i,s,r),n=o(i,s,r-1/3)),"rgba("+255*e+","+255*t+","+255*n+","+a+")"}function colorToRgb(val){return is.rgb(val)?rgbToRgba(val):is.hex(val)?hexToRgba(val):is.hsl(val)?hslToRgba(val):void 0}function getUnit(val){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);if(e)return e[1]}function getTransformUnit(propName){return stringContains(propName,"translate")||"perspective"===propName?"px":stringContains(propName,"rotate")||stringContains(propName,"skew")?"deg":void 0}function getFunctionValue(val,animatable){return is.fnc(val)?val(animatable.target,animatable.id,animatable.total):val}function getAttribute(el,prop){return el.getAttribute(prop)}function convertPxToUnit(el,value,unit){var e,t,n,a;return arrayContains([unit,"deg","rad","turn"],getUnit(value))?value:(e=cache.CSS[value+unit],is.und(e)?(t=document.createElement(el.tagName),(a=el.parentNode&&el.parentNode!==document?el.parentNode:document.body).appendChild(t),t.style.position="absolute",t.style.width=100+unit,n=100/t.offsetWidth,a.removeChild(t),a=n*parseFloat(value),cache.CSS[value+unit]=a):e)}function getCSSValue(el,prop,unit){var e;if(prop in el.style)return e=prop.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e=el.style[prop]||getComputedStyle(el).getPropertyValue(e)||"0",unit?convertPxToUnit(el,e,unit):e}function getAnimationType(el,prop){return is.dom(el)&&!is.inp(el)&&(!is.nil(getAttribute(el,prop))||is.svg(el)&&el[prop])?"attribute":is.dom(el)&&arrayContains(validTransforms,prop)?"transform":is.dom(el)&&"transform"!==prop&&getCSSValue(el,prop)?"css":null!=el[prop]?"object":void 0}function getElementTransforms(el){if(is.dom(el)){for(var e,t=el.style.transform||"",n=/(\w+)\(([^)]*)\)/g,a=new Map;e=n.exec(t);)a.set(e[1],e[2]);return a}}function getTransformValue(el,propName,animatable,unit){var e=stringContains(propName,"scale")?1:0+getTransformUnit(propName),e=getElementTransforms(el).get(propName)||e;return animatable&&(animatable.transforms.list.set(propName,e),animatable.transforms.last=propName),unit?convertPxToUnit(el,e,unit):e}function getOriginalTargetValue(target,propName,unit,animatable){switch(getAnimationType(target,propName)){case"transform":return getTransformValue(target,propName,animatable,unit);case"css":return getCSSValue(target,propName,unit);case"attribute":return getAttribute(target,propName);default:return target[propName]||0}}function getRelativeValue(to,from){var e=/^(\*=|\+=|-=)/.exec(to);if(!e)return to;var t=getUnit(to)||0,n=parseFloat(from),a=parseFloat(to.replace(e[0],""));switch(e[0][0]){case"+":return n+a+t;case"-":return n-a+t;case"*":return n*a+t}}function validateValue(val,unit){var e;return is.col(val)?colorToRgb(val):/\s/g.test(val)?val:(e=(e=getUnit(val))?val.substr(0,val.length-e.length):val,unit?e+unit:e)}function getDistance(p1,p2){return Math.sqrt(Math.pow(p2.x-p1.x,2)+Math.pow(p2.y-p1.y,2))}function getCircleLength(el){return 2*Math.PI*getAttribute(el,"r")}function getRectLength(el){return 2*getAttribute(el,"width")+2*getAttribute(el,"height")}function getLineLength(el){return getDistance({x:getAttribute(el,"x1"),y:getAttribute(el,"y1")},{x:getAttribute(el,"x2"),y:getAttribute(el,"y2")})}function getPolylineLength(el){for(var e,t=el.points,n=0,a=0;a<t.numberOfItems;a++){var r=t.getItem(a);0<a&&(n+=getDistance(e,r)),e=r}return n}function getPolygonLength(el){var e=el.points;return getPolylineLength(el)+getDistance(e.getItem(e.numberOfItems-1),e.getItem(0))}function getTotalLength(el){if(el.getTotalLength)return el.getTotalLength();switch(el.tagName.toLowerCase()){case"circle":return getCircleLength(el);case"rect":return getRectLength(el);case"line":return getLineLength(el);case"polyline":return getPolylineLength(el);case"polygon":return getPolygonLength(el)}}function setDashoffset(el){var e=getTotalLength(el);return el.setAttribute("stroke-dasharray",e),e}function getParentSvgEl(el){for(var e=el.parentNode;is.svg(e)&&is.svg(e.parentNode);)e=e.parentNode;return e}function getParentSvg(pathEl,svgData){var e=svgData||{},t=e.el||getParentSvgEl(pathEl),n=t.getBoundingClientRect(),a=getAttribute(t,"viewBox"),r=n.width,n=n.height,e=e.viewBox||(a?a.split(" "):[0,0,r,n]);return{el:t,viewBox:e,x:+e[0],y:+e[1],w:r,h:n,vW:e[2],vH:e[3]}}function getPath(path,percent){var e=is.str(path)?selectString(path)[0]:path,t=percent||100;return function(property){return{property:property,el:e,svg:getParentSvg(e),totalLength:getTotalLength(e)*(t/100)}}}function getPathProgress(path,progress,isPathTargetInsideSVG){function e(offset){return path.el.getPointAtLength(1<=progress+(offset=void 0===offset?0:offset)?progress+offset:0)}var t=getParentSvg(path.el,path.svg),n=e(),a=e(-1),r=e(1),i=isPathTargetInsideSVG?1:t.w/t.vW,s=isPathTargetInsideSVG?1:t.h/t.vH;switch(path.property){case"x":return(n.x-t.x)*i;case"y":return(n.y-t.y)*s;case"angle":return 180*Math.atan2(r.y-a.y,r.x-a.x)/Math.PI}}function decomposeValue(val,unit){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,t=validateValue(is.pth(val)?val.totalLength:val,unit)+"";return{original:t,numbers:t.match(e)?t.match(e).map(Number):[0],strings:is.str(val)||unit?t.split(e):[]}}function parseTargets(targets){return filterArray(targets?flattenArray(is.arr(targets)?targets.map(toArray):toArray(targets)):[],function(item,pos,self){return self.indexOf(item)===pos})}function getAnimatables(targets){var e=parseTargets(targets);return e.map(function(t,i){return{target:t,id:i,total:e.length,transforms:{list:getElementTransforms(t)}}})}function normalizePropertyTweens(prop,tweenSettings){var e,t=cloneObject(tweenSettings),n=(/^spring/.test(t.easing)&&(t.duration=spring(t.easing)),is.arr(prop)&&(2===(e=prop.length)&&!is.obj(prop[0])?prop={value:prop}:is.fnc(tweenSettings.duration)||(t.duration=tweenSettings.duration/e)),is.arr(prop)?prop:[prop]);return n.map(function(v,i){var e=is.obj(v)&&!is.pth(v)?v:{value:v};return is.und(e.delay)&&(e.delay=i?0:tweenSettings.delay),is.und(e.endDelay)&&(e.endDelay=i===n.length-1?tweenSettings.endDelay:0),e}).map(function(k){return mergeObjects(k,t)})}function flattenKeyframes(keyframes){for(var e=filterArray(flattenArray(keyframes.map(function(key){return Object.keys(key)})),function(p){return is.key(p)}).reduce(function(a,b){return a.indexOf(b)<0&&a.push(b),a},[]),t={},n=0;n<e.length;n++)!function(i){var n=e[i];t[n]=keyframes.map(function(key){var e,t={};for(e in key)is.key(e)?e==n&&(t.value=key[e]):t[e]=key[e];return t})}(n);return t}function getProperties(tweenSettings,params){var e,t=[],n=params.keyframes;for(e in params=n?mergeObjects(flattenKeyframes(n),params):params)is.key(e)&&t.push({name:e,tweens:normalizePropertyTweens(params[e],tweenSettings)});return t}function normalizeTweenValues(tween,animatable){var e,t={};for(e in tween){var n=getFunctionValue(tween[e],animatable);is.arr(n)&&1===(n=n.map(function(v){return getFunctionValue(v,animatable)})).length&&(n=n[0]),t[e]=n}return t.duration=parseFloat(t.duration),t.delay=parseFloat(t.delay),t}function normalizeTweens(prop,animatable){var u;return prop.tweens.map(function(t){var e=normalizeTweenValues(t,animatable),n=e.value,a=is.arr(n)?n[1]:n,r=getUnit(a),i=getOriginalTargetValue(animatable.target,prop.name,r,animatable),s=u?u.to.original:i,o=is.arr(n)?n[0]:s,i=getUnit(o)||getUnit(i),r=r||i;return is.und(a)&&(a=s),e.from=decomposeValue(o,r),e.to=decomposeValue(getRelativeValue(a,o),r),e.start=u?u.end:0,e.end=e.start+e.delay+e.duration+e.endDelay,e.easing=parseEasings(e.easing,e.duration),e.isPath=is.pth(n),e.isPathTargetInsideSVG=e.isPath&&is.svg(animatable.target),e.isColor=is.col(e.from.original),e.isColor&&(e.round=1),u=e})}var setProgressValue={css:function(t,p,v){return t.style[p]=v},attribute:function(t,p,v){return t.setAttribute(p,v)},object:function(t,p,v){return t[p]=v},transform:function(t,p,v,transforms,manual){var e;transforms.list.set(p,v),p!==transforms.last&&!manual||(e="",transforms.list.forEach(function(value,prop){e+=prop+"("+value+") "}),t.style.transform=e)}};function setTargetsValue(targets,properties){getAnimatables(targets).forEach(function(animatable){for(var e in properties){var t=getFunctionValue(properties[e],animatable),n=animatable.target,a=getUnit(t),r=getOriginalTargetValue(n,e,a,animatable),t=getRelativeValue(validateValue(t,a||getUnit(r)),r),a=getAnimationType(n,e);setProgressValue[a](n,e,t,animatable.transforms,!0)}})}function createAnimation(animatable,prop){var e,t,n=getAnimationType(animatable.target,prop.name);if(n)return t=(e=normalizeTweens(prop,animatable))[e.length-1],{type:n,property:prop.name,animatable:animatable,tweens:e,duration:t.end,delay:e[0].delay,endDelay:t.endDelay}}function getAnimations(animatables,properties){return filterArray(flattenArray(animatables.map(function(animatable){return properties.map(function(prop){return createAnimation(animatable,prop)})})),function(a){return!is.und(a)})}function getInstanceTimings(animations,tweenSettings){function e(anim){return anim.timelineOffset||0}var t=animations.length,n={};return n.duration=t?Math.max.apply(Math,animations.map(function(anim){return e(anim)+anim.duration})):tweenSettings.duration,n.delay=t?Math.min.apply(Math,animations.map(function(anim){return e(anim)+anim.delay})):tweenSettings.delay,n.endDelay=t?n.duration-Math.max.apply(Math,animations.map(function(anim){return e(anim)+anim.duration-anim.endDelay})):tweenSettings.endDelay,n}var instanceID=0;function createNewInstance(params){var e=replaceObjectProps(defaultInstanceSettings,params),t=replaceObjectProps(defaultTweenSettings,params),n=getProperties(t,params),a=getAnimatables(params.targets),n=getAnimations(a,n),t=getInstanceTimings(n,t),r=instanceID;return instanceID++,mergeObjects(e,{id:r,children:[],animatables:a,animations:n,duration:t.duration,delay:t.delay,endDelay:t.endDelay})}var activeInstances=[],engine=function(){var r;function i(t){for(var e=activeInstances.length,n=0;n<e;){var a=activeInstances[n];a.paused?(activeInstances.splice(n,1),e--):(a.tick(t),n++)}r=0<n?requestAnimationFrame(i):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){anime.suspendWhenDocumentHidden&&(isDocumentHidden()?r=cancelAnimationFrame(r):(activeInstances.forEach(function(instance){return instance._onDocumentVisibility()}),engine()))}),function(){!(r||isDocumentHidden()&&anime.suspendWhenDocumentHidden)&&0<activeInstances.length&&(r=requestAnimationFrame(i))}}();function isDocumentHidden(){return!!document&&document.hidden}function anime(params){var o,u=0,l=0,c=0,m=0,p=null;function g(instance){var e=window.Promise&&new Promise(function(_resolve){return p=_resolve});return instance.finished=e}var w=createNewInstance(params=void 0===params?{}:params);g(w);function f(){var e=w.direction;"alternate"!==e&&(w.direction="normal"!==e?"normal":"reverse"),w.reversed=!w.reversed,o.forEach(function(child){return child.reversed=w.reversed})}function d(time){return w.reversed?w.duration-time:time}function e(){u=0,l=d(w.currentTime)*(1/anime.speed)}function v(time,child){child&&child.seek(time-child.timelineOffset)}function h(insTime){for(var e=0,n=w.animations,a=n.length;e<a;){for(var r=n[e],i=r.animatable,s=r.tweens,o=s.length-1,u=s[o],o=(o&&(u=filterArray(s,function(t){return insTime<t.end})[0]||u),minMax(insTime-u.start-u.delay,0,u.duration)/u.duration),l=isNaN(o)?1:u.easing(o),c=u.to.strings,m=u.round,p=[],g=u.to.numbers.length,f=void 0,d=0;d<g;d++){var v=void 0,h=u.to.numbers[d],y=u.from.numbers[d]||0,v=u.isPath?getPathProgress(u.value,l*h,u.isPathTargetInsideSVG):y+l*(h-y);!m||u.isColor&&2<d||(v=Math.round(v*m)/m),p.push(v)}var b=c.length;if(b)for(var f=c[0],T=0;T<b;T++){c[T];var A=c[T+1],x=p[T];isNaN(x)||(f+=A?x+A:x+" ")}else f=p[0];setProgressValue[r.type](i.target,r.property,f,i.transforms),r.currentValue=f,e++}}function y(cb){w[cb]&&!w.passThrough&&w[cb](w)}function n(engineTime){var e=w.duration,t=w.delay,n=e-w.endDelay,a=d(engineTime);if(w.progress=minMax(a/e*100,0,100),w.reversePlayback=a<w.currentTime,o){var r=a;if(w.reversePlayback)for(var i=m;i--;)v(r,o[i]);else for(var s=0;s<m;s++)v(r,o[s])}!w.began&&0<w.currentTime&&(w.began=!0,y("begin")),!w.loopBegan&&0<w.currentTime&&(w.loopBegan=!0,y("loopBegin")),a<=t&&0!==w.currentTime&&h(0),(n<=a&&w.currentTime!==e||!e)&&h(e),t<a&&a<n?(w.changeBegan||(w.changeBegan=!0,w.changeCompleted=!1,y("changeBegin")),y("change"),h(a)):w.changeBegan&&(w.changeCompleted=!0,w.changeBegan=!1,y("changeComplete")),w.currentTime=minMax(a,0,e),w.began&&y("update"),e<=engineTime&&(l=0,w.remaining&&!0!==w.remaining&&w.remaining--,w.remaining?(u=c,y("loopComplete"),w.loopBegan=!1,"alternate"===w.direction&&f()):(w.paused=!0,w.completed||(w.completed=!0,y("loopComplete"),y("complete"),!w.passThrough&&"Promise"in window&&(p(),g(w)))))}return w.reset=function(){var e=w.direction;w.passThrough=!1,w.currentTime=0,w.progress=0,w.paused=!0,w.began=!1,w.loopBegan=!1,w.changeBegan=!1,w.completed=!1,w.changeCompleted=!1,w.reversePlayback=!1,w.reversed="reverse"===e,w.remaining=w.loop,o=w.children;for(var t=m=o.length;t--;)w.children[t].reset();(w.reversed&&!0!==w.loop||"alternate"===e&&1===w.loop)&&w.remaining++,h(w.reversed?w.duration:0)},w._onDocumentVisibility=e,w.set=function(targets,properties){return setTargetsValue(targets,properties),w},w.tick=function(t){n(((c=t)+(l-(u=u||c)))*anime.speed)},w.seek=function(time){n(d(time))},w.pause=function(){w.paused=!0,e()},w.play=function(){w.paused&&(w.completed&&w.reset(),w.paused=!1,activeInstances.push(w),e(),engine())},w.reverse=function(){f(),w.completed=!w.reversed,e()},w.restart=function(){w.reset(),w.play()},w.remove=function(targets){removeTargetsFromInstance(parseTargets(targets),w)},w.reset(),w.autoplay&&w.play(),w}function removeTargetsFromAnimations(targetsArray,animations){for(var e=animations.length;e--;)arrayContains(targetsArray,animations[e].animatable.target)&&animations.splice(e,1)}function removeTargetsFromInstance(targetsArray,instance){var e=instance.animations,t=instance.children;removeTargetsFromAnimations(targetsArray,e);for(var n=t.length;n--;){var a=t[n],r=a.animations;removeTargetsFromAnimations(targetsArray,r),r.length||a.children.length||t.splice(n,1)}e.length||t.length||instance.pause()}function removeTargetsFromActiveInstances(targets){for(var e=parseTargets(targets),t=activeInstances.length;t--;)removeTargetsFromInstance(e,activeInstances[t])}function stagger(val,params){var s=(params=void 0===params?{}:params).direction||"normal",o=params.easing?parseEasings(params.easing):null,u=params.grid,l=params.axis,c=params.from||0,m="first"===c,p="center"===c,g="last"===c,f=is.arr(val),d=f?parseFloat(val[0]):parseFloat(val),v=f?parseFloat(val[1]):0,h=getUnit(f?val[1]:val)||0,y=params.start||0+(f?d:0),b=[],T=0;return function(el,i,t){if(m&&(c=0),p&&(c=(t-1)/2),g&&(c=t-1),!b.length){for(var e,n,a,r=0;r<t;r++)u?(e=p?(u[0]-1)/2:c%u[0],n=p?(u[1]-1)/2:Math.floor(c/u[0]),e=e-r%u[0],n=n-Math.floor(r/u[0]),a=Math.sqrt(e*e+n*n),"x"===l&&(a=-e),b.push(a="y"===l?-n:a)):b.push(Math.abs(c-r)),T=Math.max.apply(Math,b);o&&(b=b.map(function(val){return o(val/T)*T})),"reverse"===s&&(b=b.map(function(val){return l?val<0?-1*val:-val:Math.abs(T-val)}))}return y+(f?(v-d)/T:d)*(Math.round(100*b[i])/100)+h}}function timeline(params){var i=anime(params=void 0===params?{}:params);return i.duration=0,i.add=function(instanceParams,timelineOffset){var e=activeInstances.indexOf(i),t=i.children;function n(ins){ins.passThrough=!0}-1<e&&activeInstances.splice(e,1);for(var a=0;a<t.length;a++)n(t[a]);var e=mergeObjects(instanceParams,replaceObjectProps(defaultTweenSettings,params)),r=(e.targets=e.targets||params.targets,i.duration),r=(e.autoplay=!1,e.direction=i.direction,e.timelineOffset=is.und(timelineOffset)?r:getRelativeValue(timelineOffset,r),n(i),i.seek(e.timelineOffset),anime(e)),e=(n(r),t.push(r),getInstanceTimings(t,params));return i.delay=e.delay,i.endDelay=e.endDelay,i.duration=e.duration,i.seek(0),i.reset(),i.autoplay&&i.play(),i},i}anime.version="3.2.1",anime.speed=1,anime.suspendWhenDocumentHidden=!0,anime.running=activeInstances,anime.remove=removeTargetsFromActiveInstances,anime.get=getOriginalTargetValue,anime.set=setTargetsValue,anime.convertPx=convertPxToUnit,anime.path=getPath,anime.setDashoffset=setDashoffset,anime.stagger=stagger,anime.timeline=timeline,anime.easing=parseEasings,anime.penner=penner,anime.random=function(min,max){return Math.floor(Math.random()*(max-min+1))+min};export default anime;