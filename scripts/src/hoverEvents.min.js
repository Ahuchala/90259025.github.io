import{changeScale}from"./animation.min.js";import{currentlyTouchDevice}from"./interaction.min.js";import{$$}from"./main.min.js";import{prefetchPage}from"./navigation.min.js";import{siteSettings}from"./settings.min.js";const elementSelectors=[["a",1,()=>!1],[".carousel-dot",1,()=>!1]],elementSelectorsWithScale={"#logo img":{scale:1.035,addBounceOnTouch:()=>!1,preventScaleWithIncreasedContrast:!1},".text-button:not(.dropdown, .nav-button)":{scale:1.075,addBounceOnTouch:()=>!0,preventScaleWithIncreasedContrast:!1},".text-button.dropdown":{scale:1.075,addBounceOnTouch:()=>!1,preventScaleWithIncreasedContrast:!1},".text-button.nav-button":{scale:1.075,addBounceOnTouch:()=>!1,preventScaleWithIncreasedContrast:!1},".checkbox-container":{scale:1.1,addBounceOnTouch:()=>!0,preventScaleWithIncreasedContrast:!1},".image-link a[data-card-id] img":{scale:1.035,addBounceOnTouch:()=>!0,preventScaleWithIncreasedContrast:!1},".image-link a:not([data-card-id]) img":{scale:1.035,addBounceOnTouch:()=>!1,preventScaleWithIncreasedContrast:!1},"#enter-fullscreen-button":{scale:1.1,addBounceOnTouch:()=>!1,preventScaleWithIncreasedContrast:!1},"#exit-fullscreen-button":{scale:1.1,addBounceOnTouch:()=>!1,preventScaleWithIncreasedContrast:!1},".gallery-image-1-1 img":{scale:1.075,addBounceOnTouch:()=>!0,preventScaleWithIncreasedContrast:!0},".gallery-image-2-2 img":{scale:1.0375,addBounceOnTouch:()=>!0,preventScaleWithIncreasedContrast:!0},".gallery-image-3-3 img":{scale:1.025,addBounceOnTouch:()=>!0,preventScaleWithIncreasedContrast:!0}};function initHoverEvents(){elementSelectors.forEach(selector=>{$$(selector[0]).forEach(element=>{addHoverEventWithScale({element:element,scale:selector[1],addBounceOnTouch:selector[2]})})}),Object.keys(elementSelectorsWithScale).forEach(selector=>{$$(selector).forEach(element=>{addHoverEventWithScale({element:element,scale:elementSelectorsWithScale[selector].scale,addBounceOnTouch:elementSelectorsWithScale[selector].addBounceOnTouch,preventScaleWithIncreasedContrast:elementSelectorsWithScale[selector].preventScaleWithIncreasedContrast})})}),$$("a").forEach(element=>{element.addEventListener("mouseenter",()=>{"/"===element.href[0]&&prefetchPage(element.href)})})}function addHoverEvent({element,scale=1.1,addBounceOnTouch=()=>!1}){element.addEventListener("mouseenter",()=>{currentlyTouchDevice||element.classList.contains("no-hover")||(element.classList.add("hover"),"SELECT"===element.tagName?element.previousElementSibling.classList.add("hover"):element.classList.contains("dropdown-container")&&element.firstElementChild.classList.add("hover"))}),element.addEventListener("mouseleave",()=>{currentlyTouchDevice||element.classList.contains("no-hover")||(element.classList.remove("hover"),"SELECT"===element.tagName?element.previousElementSibling.classList.remove("hover"):element.classList.contains("dropdown-container")?element.firstElementChild.classList.remove("hover"):element.blur())}),element.addEventListener("touchstart",async()=>{!addBounceOnTouch()||siteSettings.reduceMotion||element.classList.contains("no-hover")||(await changeScale({element:element,scale:scale,duration:100}),changeScale({element:element,scale:1,duration:100}))})}function addHoverEventWithScale({element,scale,addBounceOnTouch=()=>!1,preventScaleWithIncreasedContrast=!1}){element.addEventListener("mouseenter",()=>{currentlyTouchDevice||element.classList.contains("no-hover")||((element="SELECT"===element.tagName?element.previousElementSibling:element).classList.add("hover"),siteSettings.reduceMotion?element.classList.add("hover-reduce-motion"):siteSettings.increaseContrast&&preventScaleWithIncreasedContrast||changeScale({element:element,scale:scale}))}),element.addEventListener("mouseleave",()=>{currentlyTouchDevice||element.classList.contains("no-hover")||((element="SELECT"===element.tagName?element.previousElementSibling:element).classList.remove("hover"),element.classList.remove("hover-reduce-motion"),changeScale({element:element,scale:1}))}),element.addEventListener("touchstart",async()=>{!addBounceOnTouch()||siteSettings.reduceMotion||element.classList.contains("no-hover")||(await changeScale({element:element,scale:scale,duration:100}),changeScale({element:element,scale:1,duration:100}))})}function removeHoverEvents(){var e=elementSelectors.map(selector=>selector[0]).concat(Object.keys(elementSelectorsWithScale)).join(",");$$(e).forEach(element=>element.classList.remove("hover"))}function initFocusEvents(){$$(".focus-on-child").forEach(element=>{element.addEventListener("focus",()=>{element.children[0].focus()})})}export{initHoverEvents,addHoverEvent,addHoverEventWithScale,removeHoverEvents,initFocusEvents};