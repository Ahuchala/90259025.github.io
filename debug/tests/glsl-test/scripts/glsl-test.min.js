import{getGlslBundle,loadGlsl}from"../../../../scripts/src/complexGlsl.min.js";import{showPage}from"../../../../scripts/src/loadPage.min.js";import{$}from"/scripts/src/main.min.js";import{Wilson}from"/scripts/wilson.min.js";!async function(){"use strict";await loadGlsl();var e=["return cadd(ONE, ONE) == vec2(2.0, 0.0);","return csub(I, ONE) == vec2(-1.0, 1.0);","return cmul(I+ONE,ONE-2.0*I) == vec2(3.0, -1.0);","return cdiv(ONE, ONE+I) == vec2(0.5, -0.5);","return cinv(I) == -I;","return cpow(I, I) == vec2(cexp(-PI/2.0),0.0);","return ctet(2.0, 3.0) == 16.0;","return equal_within_relative_tolerance(cpow(ONE+I,ONE+I),vec2(0.273957253830121, 0.583700758758615));","return divisor(4.0,10.0) == 1049601.0;","return factorial(8.0) == 40320.0;","return binomial(3.0,2.0) == 3.0;","return binomial(10.0,4.0) == 210.0;","return equal_within_relative_tolerance(gamma(4.0), 6.0);","return equal_within_relative_tolerance(-30.0*bernoulli(4.0),1.0);","return equal_within_relative_tolerance(csin(I), vec2(0.0,1.17520119364380145688238185059560));","return equal_within_relative_tolerance(csin(ONE), vec2(0.84147098480789650665250232163,0.0));","return equal_within_relative_tolerance(ccos(ONE), vec2(0.54030230586813971740093660,0.0));","return ctan(ZERO) == ZERO;","return ctan(I) == vec2(0.0,0.761594155955764888119458282604);","return equal_within_relative_tolerance(ctan(ONE+I), cdiv(csin(ONE+I),ccos(ONE+I)));","return equal_within_relative_tolerance(ctan(ONE), vec2(1.55740772465490223050697480745,0.0));","return equal_within_relative_tolerance(ccsc(ONE-I), vec2(0.621518017170428, 0.303931001628426));","return equal_within_relative_tolerance(csec(2.0*ONE-I), vec2(-0.413149344266940, - 0.687527438655479));","return equal_within_relative_tolerance(ccot(PI*ONE/4.0),ONE);","return equal_within_relative_tolerance(ccot(I),vec2(0.0, -1.31303528549933130363616));","return casin(I) == cmul(I,clog(ONE+cpow(2.0,0.5)*ONE));","return cacos(I) == PI*ONE/2.0 + cmul(I,clog(-ONE+cpow(2.0,0.5)*ONE));","return equal_within_relative_tolerance(catan(0.5*ONE),ONE*0.463647609000806116214256);","return equal_within_relative_tolerance(catan(ONE+I), PI/4.0*ONE + 0.5*cmul(I,clog(2.0*ONE-I)));","return cacsc(I) == cmul(-I,clog(ONE+cpow(2.0,0.5)*ONE));","return casec(I) == PI*ONE/2.0 + cmul(I,clog(ONE+cpow(2.0,0.5)*ONE));","return equal_within_relative_tolerance(cacot(ONE), PI*ONE/4.0);","return csinh(I*PI/2.0) == I;","return ccosh(I*PI) == -ONE;","return equal_within_relative_tolerance(ctanh(I*PI/4.0), I);","return ccsch(I*PI/2.0) == -I;","return csech(I*PI) == -ONE;","return equal_within_relative_tolerance(ccoth(I*PI/4.0), -I);","return equal_within_relative_tolerance(casinh(I/2.0), I*PI/6.0);","return equal_within_relative_tolerance(casinh(-I/2.0), -I*PI/6.0);","return equal_within_relative_tolerance(cacosh(I/2.0), vec2(0.481211825059603,1.57079632679490));","return equal_within_relative_tolerance(cacosh(-I/2.0), vec2(0.481211825059603,-1.57079632679490));","return equal_within_relative_tolerance(catanh(ONE+I/2.0), vec2(0.708303336014054, 0.907887494960880));","return equal_within_relative_tolerance(catanh(ONE-I/2.0), vec2(0.708303336014054, -0.907887494960880));","return equal_within_relative_tolerance(cacsch(ONE+I/2.0), vec2(0.763884345953711, -0.311225797244761));","return equal_within_relative_tolerance(cacsch(ONE-I/2.0), vec2(0.763884345953711, 0.311225797244761));","return equal_within_relative_tolerance(casech(ONE+I/2.0), vec2(0.533218290584112, -0.797709970075392));","return equal_within_relative_tolerance(casech(ONE-I/2.0), vec2(0.533218290584112, 0.797709970075392));","return equal_within_relative_tolerance(cacoth(ONE+I/2.0), vec2(0.708303336014054, -0.662908831834016));","return equal_within_relative_tolerance(cacoth(ONE-I/2.0), vec2(0.708303336014054, 0.662908831834016));","return equal_within_relative_tolerance(zeta(I), vec2(0.00330022368532410, -0.418155449141322));","return equal_within_relative_tolerance(zeta(2.0*ONE-I), vec2(1.15035570325490, 0.437530865919608));","return equal_within_absolute_tolerance(g2(rho),ZERO);","return equal_within_absolute_tolerance(g3(rho),820.824 *ONE);","return equal_within_absolute_tolerance(g2(I),189.073 *ONE);","return equal_within_absolute_tolerance(g3(I),ZERO);","return equal_within_absolute_tolerance(wp(I,rho),4.20405 *ONE);","return equal_within_absolute_tolerance(wp(rho,I),5.36882 *ONE);","return equal_within_absolute_tolerance(wpprime(I,rho),22.8826 *I);","return equal_within_absolute_tolerance(wpprime(rho,I),-19.902 *I);","return equal_within_relative_tolerance(kleinJ(I),ONE);","return equal_within_relative_tolerance(kleinJ(25.0*ONE+2.0*I),166.375*ONE);","return equal_within_absolute_tolerance(hypergeometric2f1(0.1,0.2,0.3,rho),vec2(0.96337183439893319229154, 0.0345873415880728314444805284));","return equal_within_absolute_tolerance(hypergeometric2f1(1.1,-0.2,0.7,0.1*ONE-I),vec2(1.08966, 0.262795));","return equal_within_relative_tolerance(delta(I),ONE*cpow(gamma(1.0/4.0),24.0)/(16777216.0* cpow(PI,18.0)));","return equal_within_sharp_absolute_tolerance(delta(rho),-27.0*ONE*cpow(gamma(1.0/3.0),36.0)/(16777216.0* cpow(PI,24.0)));","return equal_within_absolute_tolerance(su3_character(3,4,.01*I),90.0*ONE);","return equal_within_relative_tolerance(rising_factorial(-8.0,2),56.0);","return equal_within_relative_tolerance(rising_factorial(7.5,3),605.625);","return equal_within_relative_tolerance(rising_factorial(-3.1,-3),-0.007840001254400200704032);","return equal_within_relative_tolerance(rising_factorial(-2.0,-3),-1.0/60.0);","return equal_within_relative_tolerance(rising_factorial(-4.0,-3),-1.0/210.0);","return equal_within_relative_tolerance(cpow(-1.0,2.0),1.0);","return equal_within_relative_tolerance(cpow(-1.0,-1.0),-1.0);","return equal_within_relative_tolerance(cpow(-1.0,ONE),-ONE);","return equal_within_relative_tolerance(cpow(-1.0,ONE/2.0),I);","return equal_within_absolute_tolerance(ctet(I,2.0),0.2079*ONE);","return equal_within_absolute_tolerance(lambert_w(vec2(-3.249538538483136,3.2274562027852958)),vec2(0.98397810868565668,1.4010764370433776));","return equal_within_absolute_tolerance(lambert_w(vec2(-0.009898889724885729, 0.20871443884942303)),vec2(0.030846799185485886,0.20024000517866644));","return equal_within_absolute_tolerance(lambert_w(ONE+.0000001*I), 0.5671432904097838729999686622103*ONE);","return equal_within_absolute_tolerance(lambert_w(-ONE*PI/2.0), I*PI/2.0);","return equal_within_absolute_tolerance(lambert_w(-ONE*cinv(2.7181828459)), -ONE);","return equal_within_absolute_tolerance(digamma(40.45959427318573*ONE + 25.50759401525997*I),vec2(3.858773893848084409,0.5681140543684587976));","return equal_within_relative_tolerance(digamma(ONE),-0.57721566490153286060*ONE);","return equal_within_absolute_tolerance(digamma(ONE/2.0),-2.0*log(2.0)*ONE-0.57721566490153286060*ONE);","return equal_within_absolute_tolerance(digamma(-I),vec2(0.094650320622476977271,-2.076674047468581174134));","return equal_within_absolute_tolerance(polygamma(1,I),vec2(-0.5369999033772362, -0.794233542759318865583));","return equal_within_absolute_tolerance(polygamma(10,2.0*ONE+I),vec2(-185.17306557513192307, -484.8781994177458189));","return equal_within_absolute_tolerance(polygamma(2.5,2.0*ONE+I),vec2(-0.0258830, -0.0752557 ));","return equal_within_absolute_tolerance(agm(2.0*ONE,I),vec2(1.010051593619580924333050617727020, 0.7426464223997775055939));","return powermod(2,31,7) == 2;","return powermod(3,600,4) == 1;"];let a,n=$("#canvas-location");let t=0;for(let l=0;l<e.length;l++){console.log(`Starting test ${l}: `+e[l]);var r=function(shader){try{try{a.outputCanvasContainer.parentNode.remove(),n.insertAdjacentHTML("afterend",`
					<canvas id="output-canvas" class="output-canvas"></canvas>
				`)}catch(e){}let e=`
				precision highp float;
				
				varying vec2 uv;
				
				
				
				${getGlslBundle(e)}
				
				
				
				bool unitTest(void)
				{
					${e};
				}
				
				
				
				void main(void)
				{
					if (unitTest())
					{
						gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0);
					}
					
					else
					{
						gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);
					}
				}
			`;var t={renderer:"gpu",shader:e,canvasWidth:1,canvasHeight:1},r=((a=new Wilson($("#output-canvas"),t)).render.drawFrame(),a.render.getPixelData());return 0===r[0]?0:1}catch(e){return 2}}(l);if(0===r&&t++,1===r){console.error(`Test ${l} returned false: `+e[l]),passedEverything=!1;break}}showPage()}();